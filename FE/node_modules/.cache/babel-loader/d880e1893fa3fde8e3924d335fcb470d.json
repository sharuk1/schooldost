{"ast":null,"code":"var _jsxFileName = \"/sharuk/schooldost-fe/schooldost-fe/src/Layout/Auth/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Container, FormControl, Grid, Paper, Button, Avatar, Fab, CircularProgress } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { appIcon, nameIcon, passwordIcon } from \"../../Constant/Icon/icon\";\nimport { InputElement } from \"../../Template/FECommon\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { hideDialog, showAlert, showDialog } from \"../../Actions/Notification\";\nimport { useHttpClient } from \"../../Hooks/HttpHook\";\nimport { CONTENT_TYPE_JSON, DOMAIN_URL, INFO, POST_METHOD } from \"../../Constant/Constant\";\nimport { roleBasedRedirect } from \"../../Utility/Utility\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LoginLayout() {\n  _s();\n\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const [loginDetails, setLoginDetails] = useState({\n    userName: \"\",\n    password: \"\"\n  });\n  const dispatch = useDispatch();\n\n  const handleInput = event => {\n    setLoginDetails({ ...loginDetails,\n      [event.target.id]: event.target.value\n    });\n  };\n\n  const handleLogin = async () => {\n    const query = {\n      email: userName,\n      password: window.Sha256.hash(password)\n    };\n    const {\n      data: {\n        message,\n        status,\n        token\n      }\n    } = await sendRequest(`${DOMAIN_URL}/login`, POST_METHOD, query, {\n      'content-type': CONTENT_TYPE_JSON\n    });\n\n    if (status === 401) {\n      dispatch(showAlert(INFO, message));\n    } else if (status === 200) {\n      localStorage.setItem(\"access-token\", token);\n      roleBasedRedirect();\n    }\n  };\n\n  const {\n    userName,\n    password\n  } = loginDetails;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fixed: true,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 1,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        className: \"center login-center\",\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 2,\n          className: \"paper center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Login your\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(Fab, {\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  src: appIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 52\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 45\n            }, this), \"account\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(InputElement, {\n            isRequired: true,\n            labelName: \"User Name\",\n            type: \"text\",\n            icon: nameIcon,\n            handleCallback: handleInput,\n            value: userName,\n            id: \"userName\",\n            isFullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(InputElement, {\n            isRequired: true,\n            labelName: \"Password\",\n            type: \"password\",\n            icon: passwordIcon,\n            handleCallback: handleInput,\n            value: password,\n            id: \"password\",\n            isFullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            required: true,\n            fullWidth: true,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              className: \"element\",\n              onClick: handleLogin,\n              children: \"SUBMIT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 17\n  }, this);\n}\n\n_s(LoginLayout, \"haKdL/PMsIzNB/NlmB67xv+ZMtU=\", false, function () {\n  return [useHttpClient, useDispatch];\n});\n\n_c = LoginLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginLayout\");","map":{"version":3,"names":["Container","FormControl","Grid","Paper","Button","Avatar","Fab","CircularProgress","React","useState","appIcon","nameIcon","passwordIcon","InputElement","useSelector","useDispatch","hideDialog","showAlert","showDialog","useHttpClient","CONTENT_TYPE_JSON","DOMAIN_URL","INFO","POST_METHOD","roleBasedRedirect","LoginLayout","isLoading","error","sendRequest","clearError","loginDetails","setLoginDetails","userName","password","dispatch","handleInput","event","target","id","value","handleLogin","query","email","window","Sha256","hash","data","message","status","token","localStorage","setItem"],"sources":["/sharuk/schooldost-fe/schooldost-fe/src/Layout/Auth/Login.js"],"sourcesContent":["import { Container ,FormControl,Grid,Paper,Button, Avatar,Fab,CircularProgress} from \"@mui/material\"\nimport React ,{useState} from \"react\"\nimport { appIcon, nameIcon, passwordIcon } from \"../../Constant/Icon/icon\"\nimport { InputElement } from \"../../Template/FECommon\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { hideDialog, showAlert, showDialog } from \"../../Actions/Notification\"\nimport { useHttpClient } from \"../../Hooks/HttpHook\"\nimport { CONTENT_TYPE_JSON, DOMAIN_URL, INFO, POST_METHOD } from \"../../Constant/Constant\"\nimport { roleBasedRedirect } from \"../../Utility/Utility\"\n\n\nexport function LoginLayout(){\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n    \n    const [loginDetails,setLoginDetails]=useState({\n            userName:\"\",\n            password:\"\"\n    })\n    \n    const dispatch = useDispatch()\n    \n    \n    const handleInput=(event)=>{\n            setLoginDetails({\n                    ...loginDetails,\n                    [event.target.id]:event.target.value\n            })\n    }\n    \n    const handleLogin=async()=>{\n        const query={\n                email:userName,\n                password:window.Sha256.hash(password)\n        }\n        const {data:{message,status,token}}=await sendRequest(`${DOMAIN_URL}/login`,POST_METHOD,query,{\n                'content-type':CONTENT_TYPE_JSON\n        })\n        if(status===401){\n            dispatch(showAlert(INFO,message))\n        }\n        else if(status===200){\n                localStorage.setItem(\"access-token\",token)\n                roleBasedRedirect()\n        }\n        \n            \n    }\n    \n    const {userName,password}=loginDetails\n    return (\n                <Container fixed >\n                        <Grid container spacing={1}>\n                            <Grid item xs={12} sm={6} className=\"center login-center\" >\n                                <Paper elevation={2} className=\"paper center\">\n                                        <h1>Login your \n                                            <span> <Fab>\n                                                <Avatar src={appIcon}/>\n                                            </Fab> </span>\n                                        account</h1>\n                                        <InputElement isRequired labelName=\"User Name\" type=\"text\" \n                                            icon={nameIcon} handleCallback={handleInput} value={userName} id=\"userName\" isFullWidth\n                                        />\n                                        <br/>\n                                        <InputElement isRequired labelName=\"Password\" type=\"password\" \n                                            icon={passwordIcon} handleCallback={handleInput} value={password} id=\"password\" isFullWidth\n                                        />\n                                        <br/>\n                                        <FormControl required fullWidth>\n                                        <Button variant=\"contained\" className=\"element\" onClick={handleLogin}>\n                                            SUBMIT\n                                        </Button>\n                                        </FormControl>\n                                </Paper>\n                            </Grid>\n                        </Grid>\n                </Container>                \n    )\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
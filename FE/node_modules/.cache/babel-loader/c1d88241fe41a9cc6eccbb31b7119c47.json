{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { loginAction } from \"../Actions/User\";\nimport { decodeJwt } from \"jose\";\nimport { useSelector, useDispatch } from \"react-redux\";\nexport const AccessCheckHook = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [isLogin, setLogin] = useState(false);\n  useEffect(() => {\n    let token = localStorage.getItem(\"access-token\");\n    const userDetail = decodeJwt(token, {\n      complete: true\n    });\n    console.log(userDetail);\n\n    if (userDetail === null || userDetail === undefined) {} else {\n      setLogin(true);\n    }\n\n    dispatch(loginAction());\n  }, []);\n  return {\n    isLogin\n  };\n};\n\n_s(AccessCheckHook, \"UXfc/r1krsnX9gI2MVA+3n46Ubw=\", false, function () {\n  return [useDispatch];\n});\n\n_c = AccessCheckHook;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccessCheckHook\");","map":{"version":3,"names":["useEffect","useState","loginAction","decodeJwt","useSelector","useDispatch","AccessCheckHook","dispatch","isLogin","setLogin","token","localStorage","getItem","userDetail","complete","console","log","undefined"],"sources":["/sharuk/schooldost-fe/schooldost-fe/src/Hooks/AccessCheckHook.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { loginAction } from \"../Actions/User\";\nimport {decodeJwt} from \"jose\"\nimport { useSelector, useDispatch } from \"react-redux\"\n\n\nexport const AccessCheckHook = () =>{\n    const dispatch = useDispatch()\n    \n    const [isLogin,setLogin]=useState(false)\n    useEffect(()=>{\n        let token=localStorage.getItem(\"access-token\")\n        const userDetail=decodeJwt(token,{complete:true})\n        console.log(userDetail)\n        if(userDetail===null||userDetail===undefined){\n            \n        }\n        else {\n            setLogin(true)\n        }\n        dispatch(loginAction())   \n    },[])\n   \n    return {isLogin}\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAAQC,SAAR,QAAwB,MAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAGA,OAAO,MAAMC,eAAe,GAAG,MAAK;EAAA;;EAChC,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;EAEA,MAAM,CAACG,OAAD,EAASC,QAAT,IAAmBR,QAAQ,CAAC,KAAD,CAAjC;EACAD,SAAS,CAAC,MAAI;IACV,IAAIU,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAV;IACA,MAAMC,UAAU,GAACV,SAAS,CAACO,KAAD,EAAO;MAACI,QAAQ,EAAC;IAAV,CAAP,CAA1B;IACAC,OAAO,CAACC,GAAR,CAAYH,UAAZ;;IACA,IAAGA,UAAU,KAAG,IAAb,IAAmBA,UAAU,KAAGI,SAAnC,EAA6C,CAE5C,CAFD,MAGK;MACDR,QAAQ,CAAC,IAAD,CAAR;IACH;;IACDF,QAAQ,CAACL,WAAW,EAAZ,CAAR;EACH,CAXQ,EAWP,EAXO,CAAT;EAaA,OAAO;IAACM;EAAD,CAAP;AACH,CAlBM;;GAAMF,e;UACQD,W;;;KADRC,e"},"metadata":{},"sourceType":"module"}